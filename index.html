<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>shimoto ron domain</title>
<link rel="icon" type="image/png" href="pictures/image 2(1) 1.png">
<link rel="stylesheet" href="design.css">
<script src="FUNCTION.js"></script>
</head>

<body>

<header>
  <nav class="navbar">
    <div class="nav-left">
      <a href="index.html" class="nav-logo">
        <img src="pictures/logo-light-transparent.png" alt="Logo" class="logo">
        <span></span>
      </a>
    </div>

    <div class="menu-toggle" id="menu-toggle">☰</div>

    <ul class="nav-right" id="nav-right">
      <li><a href="EandA.html" class="nav-link">Events / Announcement</a></li>
      <li><a href="contactUs.html" class="nav-link">Contact Us</a></li>
      <li><a href="#" id="gal" class="nav-link">Say of the Day</a></li>
      <li><a href="#" id="L" class="nav-link">Learn About Us</a></li>
    </ul>
  </nav>
</header>

<div class="landingP">
  <h1 id="newss">DONT HAVE INTERNET? DOWNLOAD MY GAMES</h1>
  <h3 id="mword">Together, we build faith and hope. The future shines brighter when we stand as one.</h3>

  <div class="button-group">
    <a href="application1/church.zip" download="church.zip">
      <button id="app">Download Our App</button>
    </a>
    <button id="wa">Watch Online</button>
  </div>
</div>

<!-- Main content area -->
<main>
  <div id="container">
    <div class="textContainer">
      <h3 id="ap">DOWNLOAD MY GAME HERE FOR FREE</h3>
      <p>
        1. Download the app here <br>
        2. Extract the zip file after you download our app <br>
        3. Install the app, make a reservation, and enjoy!
      </p>
      <p class="text2">
        Download my game here now so you can play games offline when you 
        don’t have internet and also I post some visual novels here.
      </p>
    </div>

    <div class="imgs">
      <img id="slideshow" src="pictures/minecraft.webp" alt="App Screenshot">
    </div>
  </div>

  <!-- VISIT US (Replaced map with video) -->
  <div class="video-container">
    <div class="boxs">
      <h3>Check out our latest trailer!</h3>
      <p><b>Ronshi Game Studio</b></p>
      <p>Montalban, Rizal</p>
      <p>
        Watch the gameplay preview below and explore more of our visual novels and offline games.
      </p>
    </div>

    <video controls width="100%" poster="pictures/appIMG1.jpg">
      <source src="videos/video.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <!-- HISTORY -->
  <div class="history">
    <div class="history-content">
      <h2>Our History</h2>
      <p>
        Lorem Ipsum is simply dummy text of the printing and typesetting industry. 
        Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, 
        when an unknown printer took a galley of type and scrambled it to make a type specimen book. 
        It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.
      </p>
    </div>
  </div>

  <!-- Game and novel Section -->
  <section class="sacraments">
    <h2>List of Visual Novels & Games</h2>
    <div id="sacrament-list" class="sacrament-grid"></div>
  </section>

  <!-- Popup Modal -->
  <div id="gameModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <img id="modal-image" src="" alt="Game Image">
      <h2 id="modal-title"></h2>
      <p id="modal-description"></p>
      <a id="modal-download" href="#" download>
        <button class="download-btn">Download Game</button>
      </a>
    </div>
  </div>
</main>

<script>
// Fetch and display Sacraments (Games/Visual Novels)
fetch('/getSacraments')
  .then(res => res.json())
  .then(data => {
    const container = document.getElementById('sacrament-list');
    if (data.length === 0) {
      container.innerHTML = "<p>No games or novels available at the moment.</p>";
      return;
    }

    container.innerHTML = data.map((sac, index) => `
      <div class="sacrament-card" data-index="${index}">
        <img src="${sac.image}" alt="${sac.title}">
        <h3>${sac.title}</h3>
        <p>${sac.shortDescription || sac.description.substring(0, 60) + '...'}</p>
      </div>
    `).join('');

    // Add click listeners to open modal
    const cards = document.querySelectorAll('.sacrament-card');
    const modal = document.getElementById('gameModal');
    const closeBtn = document.querySelector('.close');

    const modalTitle = document.getElementById('modal-title');
    const modalDesc = document.getElementById('modal-description');
    const modalImg = document.getElementById('modal-image');
    const modalDownload = document.getElementById('modal-download');

    cards.forEach(card => {
      card.addEventListener('click', () => {
        const index = card.getAttribute('data-index');
        const game = data[index];
        modalTitle.textContent = game.title;
        modalDesc.textContent = game.description;
        modalImg.src = game.image;
        modalDownload.href = game.downloadLink || "#";
        modal.style.display = "block";
      });
    });

    // Close modal when clicking X or outside
    closeBtn.onclick = () => modal.style.display = "none";
    window.onclick = (e) => { if (e.target == modal) modal.style.display = "none"; };
  })
  .catch(err => console.error(err));
</script>

</body>
</html>
